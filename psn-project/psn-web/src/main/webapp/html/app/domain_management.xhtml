<!--
  ###license-information-start###
  gPAS - a Generic Pseudonym Administration Service
  __
  Copyright (C) 2013 - 2017 The MOSAIC Project - Institut fuer Community Medicine der
  							Universitaetsmedizin Greifswald - mosaic-projekt@uni-greifswald.de
  							concept and implementation
  							l. geidel
  							web client
  							g. weiher
  							a. blumentritt
  							please cite our publications
  							http://dx.doi.org/10.3414/ME14-01-0133
  							http://dx.doi.org/10.1186/s12967-015-0545-6
  __
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  ###license-information-end###
  -->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:jstl="http://java.sun.com/jsp/jstl/functions" xmlns:p="http://primefaces.org/ui">

<body>
	<ui:composition template="/template/ths_templ.xhtml">
		<ui:define name="meta_tags">
			<link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/psn.css" />
		</ui:define>
		<ui:define name="customLogo">
			<img src="#{request.contextPath}/img/gpas_logo.png" />
		</ui:define>
		<ui:define name="header_title">#{msgs['general.headerTitle']}</ui:define>
		<ui:define name="title">
			    <h:form>
	    			<h1>
						<h:outputFormat value="#{msgs['general.title']}">
							<f:param value="${display_version}" />
						</h:outputFormat>
					</h1>
			        <p:commandButton value="logout" action="#{UserController.logout}" disabled="#{UserController.loggedIn eq false}"/>
			    </h:form>
		</ui:define>
		<ui:define name="info">
			<p:tabMenu activeIndex="0">
				<p:menuitem value="#{msgs['label.navigation.domain']}" url="domain_management.xhtml" />
				<p:menuitem value="#{msgs['label.navigation.psn']}" url="psn_management.xhtml" />
				<p:menuitem value="#{msgs['label.navigation.File']}" url="batch_processing.xhtml" />
				<p:menuitem value="#{msgs['label.navigation.stat']}" url="statistic.xhtml" />
				<p:menuitem value="#{msgs['label.navigation.users']}" url="users.xhtml" />
			</p:tabMenu>
		</ui:define>
		<ui:define name="content">
			<p:growl id="growl" autoUpdate="true"></p:growl>
			<h:form id="confirm_form">
				<p:confirmDialog id="delete_confirm" message="Do you really want to delete the selected domain?" header="deleting domain" severity="alert"
					widgetVar="delete_confirm">

					<p:commandButton value="Yes" actionListener="#{DomainController.onDeleteDomain}" update=":domain_table_form:"
						oncomplete="PF('delete_confirm').hide();" />
					<p:commandButton value="No" onclick="PF('delete_confirm').hide();" type="button" />

				</p:confirmDialog>
			</h:form>

			<p:outputPanel>
				<p:outputPanel styleClass="domainPanel">
					<ui:include src="/html/fragments/domain_tableV2.xhtml" />
				</p:outputPanel>
				<p:outputPanel styleClass="domainPanel" style="padding-bottom:10px;">
					<ui:include src="/html/fragments/new_domain_panel.xhtml" />
				</p:outputPanel>
			</p:outputPanel>
			<p:outputPanel layout="block" style="clear:both">
			</p:outputPanel>
			<p:ajaxStatus style="width:64px;height:64px;position:fixed;right:5px;bottom:5px">
				<f:facet name="start">
					<p:graphicImage value="/img/ajax-loader_pf.gif" />
					<h:outputText value="Loading" />
				</f:facet>

				<f:facet name="complete">
					<h:outputText value="" />
				</f:facet>
			</p:ajaxStatus>
		</ui:define>
		<ui:define name="version">
			<h:outputText value="${display_version}" />
		</ui:define>
	</ui:composition>
</body>
</html>
